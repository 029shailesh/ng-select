<div (click)="open()" class="as-control">


    <span class="as-multi-value-wrapper">

        <span class="as-placeholder" *ngIf="showPlaceholder()">{{placeholder}}</span>

        <div class="as-value" *ngIf="!searchValue">
            <span *ngIf="selectedItem" class="as-value-label" role="option" aria-selected="true">
                <ng-container *ngIf="displayTemplateRef" [ngTemplateOutlet]="displayTemplateRef.template"
                              [ngOutletContext]="getDisplayTemplateContext()"></ng-container>

                <ng-container *ngIf="!displayTemplateRef">{{getTextValue()}}</ng-container>
            </span>
        </div>

        <div class="as-input">
            <input #searchInput
                   [value]="searchValue"
                   (input)="onSearch($event)"
                   (focus)="onInputFocus($event)"
                   role="combobox"
                   aria-expanded="false"
                   aria-owns=""
                   aria-haspopup="false">
        </div>
    </span>

    <span (click)="clear()" class="as-clear-zone" title="Clear all" aria-label="Clear all"><span class="as-clear">Ã—</span></span>
    <span class="as-arrow-zone"><span class="as-arrow"></span></span>

    <input type="hidden" name="selected-state" value="south-australia-TODO">
</div>


<div class="as-menu-outer" *ngIf="isOpen">
    <!--  <div *ngIf="allowSearch" class="search-input-container">
          <input type="text" #searchInput [value]="searchValue" (input)="onSearch($event)"/>
      </div>-->
    <div #dropdownList role="listbox" class="as-menu">
        <div class="as-option" role="option" (click)="select(item)"
             *ngFor="let item of filteredItems; let index = index; let first = first; let last = last; let even = even; let odd = odd"
             [class.disabled]="item.disabled"
             [class.selected]="item == selectedItem">

            <ng-container *ngIf="!optionTemplateRef">{{item[bindText]}}</ng-container>

            <ng-container *ngIf="optionTemplateRef" [ngTemplateOutlet]="optionTemplateRef.template"
                          [ngOutletContext]="getOptionTemplateContext(item, index, first, last, even, odd)">
            </ng-container>
        </div>

        <div *ngIf="filteredItems.length === 0" class="as-option disabled">
            No items found
        </div>
    </div>
</div>
